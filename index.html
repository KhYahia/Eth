<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>Counter DApp</title>
</head>
<body>
  <h2>ðŸ§® Simple Counter DApp</h2>
  <p><b>Connected Account:</b> <span id="account">Not connected</span></p>
  <p><b>Current Count:</b> <span id="count">0</span></p>

  <button id="connectBtn">Connect MetaMask</button>
  <button id="getBtn">Read Count</button>
  <button id="incBtn">Increment</button>

  <script src="https://cdn.jsdelivr.net/npm/ethers@5.7.2/dist/ethers.min.js"></script>
  <script>
   
    const contractAddress = "0xe0404d14ebd64d3259b9724bca77f7dc9f058ec5";

  
    const contractABI = [
      {
        "inputs": [],
        "name": "decrement",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "increment",
        "outputs": [],
        "stateMutability": "nonpayable",
        "type": "function"
      },
      {
        "inputs": [],
        "name": "get",
        "outputs": [
          {
            "internalType": "uint256",
            "name": "",
            "type": "uint256"
          }
        ],
        "stateMutability": "view",
        "type": "function"
      }
    ];

    let provider;
    let signer;
    let contract;

   
    async function connectWallet() {
      if (window.ethereum) {
        provider = new ethers.providers.Web3Provider(window.ethereum);
        await provider.send("eth_requestAccounts", []);
        signer = provider.getSigner();
        const account = await signer.getAddress();
        document.getElementById("account").innerText = account;
        contract = new ethers.Contract(contractAddress, contractABI, signer);
        alert("Connected to MetaMask!");
      } else {
        alert("Please install MetaMask!");
      }
    }

    async function getCount() {
      const value = await contract.get();
      document.getElementById("count").innerText = value.toString();
    }

  
    async function increment() {
      const tx = await contract.increment();
      await tx.wait();
      getCount();
    }

    // Button actions
    document.getElementById("connectBtn").onclick = connectWallet;
    document.getElementById("getBtn").onclick = getCount;
    document.getElementById("incBtn").onclick = increment;
  </script>
</body>
</html>


